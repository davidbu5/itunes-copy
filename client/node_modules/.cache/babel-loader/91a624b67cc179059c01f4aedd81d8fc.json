{"ast":null,"code":"var _jsxFileName = \"C:\\\\Git\\\\moshe\\\\itunes-app\\\\src\\\\components\\\\logout\\\\logout.tsx\";\nimport * as React from 'react';\nimport axios from 'axios';\nexport default class Logout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.render = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, this.state.errorMessage ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, this.state.errorMessage) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"\\u05DE\\u05EA\\u05E0\\u05EA\\u05E7...\"));\n    };\n\n    if (!axios.defaults.headers.Authorization) {\n      const errorMessage = \"אינכם מחוברים לחשבון.\";\n      this.state = {\n        errorMessage\n      };\n    } else {\n      this.state = {};\n      const url = \"http://localhost/user/logout\";\n      axios.post(url, this.state).then(response => {\n        delete axios.defaults.headers.Authorization;\n        this.props.history.push('/');\n      }).catch(err => {\n        const errorMessage = \"ההתנקות לא צלחה. נא נסו שנית.\";\n        this.setState({\n          errorMessage\n        });\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Git/moshe/itunes-app/src/components/logout/logout.tsx"],"names":["React","axios","Logout","Component","constructor","props","render","state","errorMessage","defaults","headers","Authorization","url","post","then","response","history","push","catch","err","setState"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAA+C;AAE1DC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;;AADoB,SAkBxBC,MAlBwB,GAkBf,MAAM;AACX,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACF,KAAKC,KAAL,CAAWC,YAAX,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKD,KAAL,CAAWC,YAAjB,CAA1B,GAAiE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAD/D,CAAP;AAGH,KAtBuB;;AAEpB,QAAI,CAACP,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,aAA5B,EAA2C;AACvC,YAAMH,YAAY,GAAG,uBAArB;AACA,WAAKD,KAAL,GAAa;AAAEC,QAAAA;AAAF,OAAb;AACH,KAHD,MAGO;AACH,WAAKD,KAAL,GAAa,EAAb;AACA,YAAMK,GAAG,iCAAT;AACAX,MAAAA,KAAK,CAACY,IAAN,CAAWD,GAAX,EAAgB,KAAKL,KAArB,EAA4BO,IAA5B,CAAiCC,QAAQ,IAAI;AACzC,eAAOd,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,aAA9B;AACA,aAAKN,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,OAHD,EAGGC,KAHH,CAGSC,GAAG,IAAI;AACZ,cAAMX,YAAY,GAAG,+BAArB;AACA,aAAKY,QAAL,CAAc;AAAEZ,UAAAA;AAAF,SAAd;AACH,OAND;AAOH;AACJ;;AAlByD","sourcesContent":["import * as React from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default class Logout extends React.Component<any, any> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        if (!axios.defaults.headers.Authorization) {\r\n            const errorMessage = \"אינכם מחוברים לחשבון.\";\r\n            this.state = { errorMessage };\r\n        } else {\r\n            this.state = {};\r\n            const url = `http://localhost/user/logout`;\r\n            axios.post(url, this.state).then(response => {\r\n                delete axios.defaults.headers.Authorization;\r\n                this.props.history.push('/');\r\n            }).catch(err => {\r\n                const errorMessage = \"ההתנקות לא צלחה. נא נסו שנית.\";\r\n                this.setState({ errorMessage });\r\n            });\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        return <div>\r\n            {this.state.errorMessage ? <div>{this.state.errorMessage}</div> : <div>מתנתק...</div>}\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}