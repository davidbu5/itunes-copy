{"ast":null,"code":"var _jsxFileName = \"C:\\\\Git\\\\moshe\\\\client\\\\src\\\\components\\\\signin\\\\signin.tsx\";\nimport * as React from 'react';\nimport axios from 'axios';\nexport default class Signin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const url = \"http://localhost/user\";\n      axios.post(url, this.state).then(response => {\n        axios.defaults.headers.Authorization = \"Bearer \".concat(response.data.token);\n        this.props.history.push('/');\n      }).catch(err => {\n        this.setState({\n          errorMessage: \"ההרשמה לא צלחה. נא נסו שנית\"\n        });\n      });\n    };\n\n    this.render = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\", this.state.errorMessage ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, this.state.errorMessage) : \"\", React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        name: \"userName\",\n        type: \"text\",\n        placeholder: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\")));\n    };\n\n    if (axios.defaults.headers.Authorization) {\n      const errorMessage = \"אתם כבר מחוברים לחשבון.\";\n      this.state = {\n        errorMessage\n      };\n    } else {\n      this.state = {};\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Git/moshe/client/src/components/signin/signin.tsx"],"names":["React","axios","Signin","Component","constructor","props","handleInputChange","event","value","target","name","setState","handleSubmit","preventDefault","url","post","state","then","response","defaults","headers","Authorization","data","token","history","push","catch","err","errorMessage","render"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAA+C;AAE1DC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;;AADoB,SAWxBC,iBAXwB,GAWHC,KAAD,IAAgB;AAChC,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,YAAME,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaC,IAA1B;AAEA,WAAKC,QAAL,CAAc;AACV,SAACD,IAAD,GAAQF;AADE,OAAd;AAGH,KAlBuB;;AAAA,SAoBxBI,YApBwB,GAoBRL,KAAD,IAA4B;AACvCA,MAAAA,KAAK,CAACM,cAAN;AACA,YAAMC,GAAG,0BAAT;AACAb,MAAAA,KAAK,CAACc,IAAN,CAAWD,GAAX,EAAgB,KAAKE,KAArB,EAA4BC,IAA5B,CAAiCC,QAAQ,IAAI;AACzCjB,QAAAA,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBC,aAAvB,oBAAiDH,QAAQ,CAACI,IAAT,CAAcC,KAA/D;AACA,aAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,OAHD,EAGGC,KAHH,CAGSC,GAAG,IAAI;AACZ,aAAKhB,QAAL,CAAc;AAAEiB,UAAAA,YAAY,EAAE;AAAhB,SAAd;AACH,OALD;AAMH,KA7BuB;;AAAA,SA+BxBC,MA/BwB,GA+Bf,MAAM;AACX,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEF,KAAKb,KAAL,CAAWY,YAAX,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKZ,KAAL,CAAWY,YAAjB,CAA1B,GAAiE,EAF/D,EAGH;AAAM,QAAA,QAAQ,EAAE,KAAKhB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,QAAQ,EAAE,KAAKN,iBAAtB;AAAyC,QAAA,IAAI,EAAC,UAA9C;AAAyD,QAAA,IAAI,EAAC,MAA9D;AAAqE,QAAA,WAAW,EAAC,6CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI;AAAO,QAAA,QAAQ,EAAE,KAAKA,iBAAtB;AAAyC,QAAA,IAAI,EAAC,UAA9C;AAAyD,QAAA,IAAI,EAAC,UAA9D;AAAyE,QAAA,WAAW,EAAC,gCAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAKI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CALJ,CAHG,CAAP;AAWH,KA3CuB;;AAGpB,QAAIL,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBC,aAA3B,EAA0C;AACtC,YAAMO,YAAY,GAAG,yBAArB;AACA,WAAKZ,KAAL,GAAa;AAAEY,QAAAA;AAAF,OAAb;AACH,KAHD,MAGO;AACH,WAAKZ,KAAL,GAAa,EAAb;AACH;AACJ;;AAXyD","sourcesContent":["import * as React from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default class Signin extends React.Component<any, any> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n    \r\n        if (axios.defaults.headers.Authorization) {\r\n            const errorMessage = \"אתם כבר מחוברים לחשבון.\";\r\n            this.state = { errorMessage };\r\n        } else {\r\n            this.state = {};\r\n        }\r\n    }\r\n    \r\n    handleInputChange = (event: any) => {\r\n        const value = event.target.value;\r\n        const name = event.target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit = (event: React.FormEvent) => {\r\n        event.preventDefault();\r\n        const url = `http://localhost/user`;\r\n        axios.post(url, this.state).then(response => {\r\n            axios.defaults.headers.Authorization = `Bearer ${response.data.token}`;\r\n            this.props.history.push('/');\r\n        }).catch(err => {\r\n            this.setState({ errorMessage: \"ההרשמה לא צלחה. נא נסו שנית\" });\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        return <div>\r\n            הרשמה\r\n            {this.state.errorMessage ? <div>{this.state.errorMessage}</div> : \"\"}\r\n            <form onSubmit={this.handleSubmit}>\r\n                <input onChange={this.handleInputChange} name=\"userName\" type=\"text\" placeholder=\"שם משתמש\" />\r\n                <br />\r\n                <input onChange={this.handleInputChange} name=\"password\" type=\"password\" placeholder=\"סיסמא\" />\r\n                <br />\r\n                <button type=\"submit\">הרשמה</button>\r\n            </form>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}