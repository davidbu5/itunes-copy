{"ast":null,"code":"var _jsxFileName = \"C:\\\\Git\\\\moshe\\\\itunes-app\\\\src\\\\components\\\\login\\\\login.tsx\";\nimport * as React from 'react';\nimport axios from 'axios';\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.state.errorMessage = \"\";\n      const url = \"http://localhost/user/login\";\n      axios.post(url, this.state).then(response => {\n        axios.defaults.headers.Authorization = \"Bearer \".concat(response.data.token);\n        this.props.history.push('/');\n      }).catch(err => {\n        if (err.response.status === 400) {\n          this.setState({\n            errorMessage: \"פרטי המשתמש שהוזנו אינם נכונים. נא נסו שנית\"\n          });\n        }\n      });\n    };\n\n    this.render = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\\u05D5\\u05EA\", this.state.errorMessage ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, this.state.errorMessage) : \"\", React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        name: \"userName\",\n        type: \"text\",\n        placeholder: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\\u05D5\\u05EA\")));\n    };\n\n    this.state = {};\n  }\n\n}","map":{"version":3,"sources":["C:/Git/moshe/itunes-app/src/components/login/login.tsx"],"names":["React","axios","Login","Component","constructor","props","handleInputChange","event","value","target","name","setState","handleSubmit","preventDefault","state","errorMessage","url","post","then","response","defaults","headers","Authorization","data","token","history","push","catch","err","status","render"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAA8C;AAEzDC,EAAAA,WAAW,CAACC,KAAD,EAAa;AACpB,UAAMA,KAAN;;AADoB,SAMxBC,iBANwB,GAMHC,KAAD,IAAgB;AAChC,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,YAAME,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaC,IAA1B;AAEA,WAAKC,QAAL,CAAc;AACV,SAACD,IAAD,GAAQF;AADE,OAAd;AAGH,KAbuB;;AAAA,SAexBI,YAfwB,GAeRL,KAAD,IAA4B;AACvCA,MAAAA,KAAK,CAACM,cAAN;AACA,WAAKC,KAAL,CAAWC,YAAX,GAA0B,EAA1B;AACA,YAAMC,GAAG,gCAAT;AACAf,MAAAA,KAAK,CAACgB,IAAN,CAAWD,GAAX,EAAgB,KAAKF,KAArB,EAA4BI,IAA5B,CAAiCC,QAAQ,IAAI;AACzClB,QAAAA,KAAK,CAACmB,QAAN,CAAeC,OAAf,CAAuBC,aAAvB,oBAAiDH,QAAQ,CAACI,IAAT,CAAcC,KAA/D;AACA,aAAKnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH,OAHD,EAGGC,KAHH,CAGSC,GAAG,IAAI;AACZ,YAAIA,GAAG,CAACT,QAAJ,CAAaU,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,eAAKlB,QAAL,CAAc;AAAEI,YAAAA,YAAY,EAAE;AAAhB,WAAd;AACH;AACJ,OAPD;AAQH,KA3BuB;;AAAA,SA6BxBe,MA7BwB,GA6Bf,MAAM;AACX,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAEF,KAAKhB,KAAL,CAAWC,YAAX,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKD,KAAL,CAAWC,YAAjB,CAA1B,GAAiE,EAF/D,EAGH;AAAM,QAAA,QAAQ,EAAE,KAAKH,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,QAAQ,EAAE,KAAKN,iBAAtB;AAAyC,QAAA,IAAI,EAAC,UAA9C;AAAyD,QAAA,IAAI,EAAC,MAA9D;AAAqE,QAAA,WAAW,EAAC,6CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI;AAAO,QAAA,QAAQ,EAAE,KAAKA,iBAAtB;AAAyC,QAAA,IAAI,EAAC,UAA9C;AAAyD,QAAA,IAAI,EAAC,UAA9D;AAAyE,QAAA,WAAW,EAAC,gCAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAKI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDALJ,CAHG,CAAP;AAWH,KAzCuB;;AAGpB,SAAKQ,KAAL,GAAa,EAAb;AACH;;AANwD","sourcesContent":["import * as React from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default class Login extends React.Component<any, any> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n    \r\n        this.state = {};\r\n    }\r\n    \r\n    handleInputChange = (event: any) => {\r\n        const value = event.target.value;\r\n        const name = event.target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit = (event: React.FormEvent) => {\r\n        event.preventDefault();\r\n        this.state.errorMessage = \"\";\r\n        const url = `http://localhost/user/login`;\r\n        axios.post(url, this.state).then(response => {\r\n            axios.defaults.headers.Authorization = `Bearer ${response.data.token}`;\r\n            this.props.history.push('/');\r\n        }).catch(err => {\r\n            if (err.response.status === 400) {\r\n                this.setState({ errorMessage: \"פרטי המשתמש שהוזנו אינם נכונים. נא נסו שנית\" });\r\n            }\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        return <div>\r\n            התחברות\r\n            {this.state.errorMessage ? <div>{this.state.errorMessage}</div> : \"\"}\r\n            <form onSubmit={this.handleSubmit}>\r\n                <input onChange={this.handleInputChange} name=\"userName\" type=\"text\" placeholder=\"שם משתמש\" />\r\n                <br />\r\n                <input onChange={this.handleInputChange} name=\"password\" type=\"password\" placeholder=\"סיסמא\" />\r\n                <br />\r\n                <button type=\"submit\">התחברות</button>\r\n            </form>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}